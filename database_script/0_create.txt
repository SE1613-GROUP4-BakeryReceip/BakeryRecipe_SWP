CREATE TABLE Account_tbl (
  account_id    int(11) NOT NULL AUTO_INCREMENT, 
  user_id       int(11), 
  username      varchar(50) NOT NULL, 
  password      varchar(255) NOT NULL, 
  email         varchar(255), 
  phone_number  varchar(15), 
  last_modified datetime NOT NULL, 
  is_actived    bit(1) NOT NULL, 
  is_admin      bit(1), 
  PRIMARY KEY (account_id));
CREATE TABLE Category_tbl (
  category_id int(11) NOT NULL AUTO_INCREMENT, 
  name        varchar(100) NOT NULL, 
  PRIMARY KEY (category_id));
CREATE TABLE Comment_tbl (
  user_id        int(11) NOT NULL, 
  recipe_id      int(11) NOT NULL, 
  comment_detail text NOT NULL, 
  created_date   datetime NOT NULL, 
  last_modified  datetime NOT NULL, 
  is_actived     bit(1) NOT NULL, 
  PRIMARY KEY (user_id, 
  recipe_id));
CREATE TABLE Follow_tbl (
  user_id          int(11) NOT NULL, 
  user_id_followed int(11) NOT NULL, 
  PRIMARY KEY (user_id, 
  user_id_followed));
CREATE TABLE Image_tbl (
  img_id    int(11) NOT NULL AUTO_INCREMENT, 
  recipe_id int(11) NOT NULL, 
  img_link  varchar(255) NOT NULL, 
  PRIMARY KEY (img_id));
CREATE TABLE Ingredient_tbl (
  ingredient_id int(11) NOT NULL AUTO_INCREMENT, 
  name          varchar(100) NOT NULL, 
  PRIMARY KEY (ingredient_id));
CREATE TABLE Like_tbl (
  user_id   int(11) NOT NULL, 
  recipe_id int(11) NOT NULL, 
  PRIMARY KEY (user_id, 
  recipe_id));
CREATE TABLE Notification_tbl (
  noti_id      int(11) NOT NULL AUTO_INCREMENT, 
  user_id      int(11) NOT NULL, 
  detail       text NOT NULL, 
  created_date datetime NOT NULL, 
  PRIMARY KEY (noti_id));
CREATE TABLE Profile_tbl (
  profile_id    int(11) NOT NULL AUTO_INCREMENT, 
  user_id       int(11) NOT NULL UNIQUE, 
  full_name     varchar(100), 
  gender        varchar(10), 
  avatar_url    varchar(255), 
  bio           varchar(255), 
  last_modified datetime NOT NULL, 
  PRIMARY KEY (profile_id));
CREATE TABLE Recipe_Ingredient_tbl (
  recipe_id     int(11) NOT NULL, 
  ingredient_id int(11) NOT NULL, 
  unit          varchar(100), 
  quantity      int(11), 
  PRIMARY KEY (recipe_id, 
  ingredient_id));
CREATE TABLE Recipe_tbl (
  recipe_id     int(11) NOT NULL AUTO_INCREMENT, 
  user_id       int(11) NOT NULL, 
  category_id   int(11) NOT NULL, 
  name          varchar(100) NOT NULL, 
  serving       int(5) NOT NULL, 
  instruction   text, 
  prepare_time  int(5), 
  cook_time     int(5), 
  liked_count   int(11) NOT NULL, 
  saved_count   int(11) NOT NULL, 
  created_date  datetime NOT NULL, 
  last_modified datetime NOT NULL, 
  is_actived    bit(1) NOT NULL, 
  is_hidden     bit(1) NOT NULL, 
  PRIMARY KEY (recipe_id));
CREATE TABLE Save_tbl (
  user_id   int(11) NOT NULL, 
  recipe_id int(11) NOT NULL, 
  PRIMARY KEY (user_id, 
  recipe_id));
CREATE TABLE User_tbl (
  user_id      int(11) NOT NULL AUTO_INCREMENT, 
  created_date datetime NOT NULL, 
  PRIMARY KEY (user_id));
CREATE TABLE Video_tbl (
  video_id   int(11) NOT NULL AUTO_INCREMENT, 
  recipe_id  int(11) NOT NULL, 
  video_link varchar(255) NOT NULL, 
  PRIMARY KEY (video_id));
ALTER TABLE Account_tbl ADD CONSTRAINT FKAccount_tb597642 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
ALTER TABLE Profile_tbl ADD CONSTRAINT FKProfile_tb133462 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
ALTER TABLE Recipe_Ingredient_tbl ADD CONSTRAINT FKRecipe_Ing369555 FOREIGN KEY (ingredient_id) REFERENCES Ingredient_tbl (ingredient_id);
ALTER TABLE Like_tbl ADD CONSTRAINT FKLike_tbl981405 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
ALTER TABLE Comment_tbl ADD CONSTRAINT FKComment_tb988724 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
ALTER TABLE Save_tbl ADD CONSTRAINT FKSave_tbl578787 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
ALTER TABLE Recipe_Ingredient_tbl ADD CONSTRAINT FKRecipe_Ing670201 FOREIGN KEY (recipe_id) REFERENCES Recipe_tbl (recipe_id);
ALTER TABLE Image_tbl ADD CONSTRAINT FKImage_tbl397680 FOREIGN KEY (recipe_id) REFERENCES Recipe_tbl (recipe_id);
ALTER TABLE Video_tbl ADD CONSTRAINT FKVideo_tbl462035 FOREIGN KEY (recipe_id) REFERENCES Recipe_tbl (recipe_id);
ALTER TABLE Like_tbl ADD CONSTRAINT FKLike_tbl999893 FOREIGN KEY (recipe_id) REFERENCES Recipe_tbl (recipe_id);
ALTER TABLE Comment_tbl ADD CONSTRAINT FKComment_tb970236 FOREIGN KEY (recipe_id) REFERENCES Recipe_tbl (recipe_id);
ALTER TABLE Save_tbl ADD CONSTRAINT FKSave_tbl597275 FOREIGN KEY (recipe_id) REFERENCES Recipe_tbl (recipe_id);
ALTER TABLE Notification_tbl ADD CONSTRAINT FKNotificati321251 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
ALTER TABLE Follow_tbl ADD CONSTRAINT FKFollow_tbl6137 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
ALTER TABLE Follow_tbl ADD CONSTRAINT FKFollow_tbl382277 FOREIGN KEY (user_id_followed) REFERENCES User_tbl (user_id);
ALTER TABLE Recipe_tbl ADD CONSTRAINT FKRecipe_tbl798583 FOREIGN KEY (category_id) REFERENCES Category_tbl (category_id);
ALTER TABLE Recipe_tbl ADD CONSTRAINT FKRecipe_tbl547119 FOREIGN KEY (user_id) REFERENCES User_tbl (user_id);
